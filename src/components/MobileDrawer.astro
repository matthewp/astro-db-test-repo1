---
import AccordionButton from "./AccordionButton.astro"
import { Icon } from "astro-icon/components";
---
<!-- PARA TESTING USAR: TRANSLATE-x-0 -->
<!-- FUNCIONAMINETO REAL: translate-x-full -->
<div
  id="mobile-drawer"
  class="flex flex-col h-screen w-full sm:w-80 fixed z-50 py-8 px-5 top-0 right-0 bg-slate-50 shadow-lg shadow-black translate-x-full duration-100">

  <button id="close-mobile-drawer" class="mb-5">

    <Icon name={"close"} size={30} class="ml-auto"/>
    
  </button>

  <!-- LINKS  -->
  <div class="flex flex-1 flex-col space-y-2">

    <a href="/" class="flex justify-between text-2xl">
      <span>Inicio</span>
      <Icon name={"home"} size={30} class={"text-[#3C4043]"} />
    </a>

    <a href="/tienda" class="flex justify-between text-2xl">
      <span>Tienda</span>
      <Icon name={"shopping-bag"} size={30} class={"text-[#3C4043]"} />
    </a>

    <a href="/ofertas" class="flex justify-between text-2xl">
      <span>Ofertas</span>
      <Icon name={"discount"} size={30} class={"text-[#3C4043]"} />
    </a>

<!-- DESPLEGABLE CON CATEGORIAS -->

<AccordionButton>

  <h2 slot="title" class="text-2xl">
    Categor√≠as
  </h2>

  <a slot="options" href="/" class="block ml-4 text-xl text-link hover:underline">
    Remeras
  </a>
  <a slot="options" href="/" class="block ml-4 text-xl text-link hover:underline">
    Pantalones
  </a>
  <a slot="options" href="/" class="block ml-4 text-xl text-link hover:underline">
    Camperas
  </a>
  <a slot="options" href="/" class="block ml-4 text-xl text-link hover:underline">
    Buzos
  </a>
  <a slot="options" href="/" class="block ml-4 text-xl text-link hover:underline">
    Medias
  </a>


</AccordionButton>


  </div>

<!-- MENU FOOTER -->
  <div class="flex flex-col space-y-1">

        <a href="/mi-uniforme" class="flex justify-between text-2xl">
            <span>Crear mi uniforme</span>
            <Icon name={"t-shirt"} size={30} class={"text-[#3C4043]"}/>
        </a>

      <a href="/nosotros" class="flex justify-between text-2xl">
          <span>Nosotros</span>
          <Icon name={"people-group"} size={30} class={"text-[#3C4043]"}/>
      </a>
    
        <a href="/perfil" class="flex justify-between text-2xl">
            <span>Mi Cuenta</span>
            <Icon name={"user"} size={30} class={"text-[#3C4043]"}/>
        </a>

  </div>
</div>

<!-- OVERLAY -->
<div
  id="overlay"
  class="fixed inset-0 w-screen h-screen opacity-20 bg-black hidden z-40"
>
</div>
<script>
    /* MENU HANDLER */
    const menuButton = document.getElementById("mobile-drawer-button");
    const mainMenu = document.getElementById("mobile-drawer");
    const closeButton = document.getElementById("close-mobile-drawer");
    const overlay = document.getElementById("overlay");
  


    function toggleMenu() {
      overlay?.classList.toggle("hidden");
      mainMenu?.classList.toggle("translate-x-full");
    }
    closeButton?.addEventListener("click", () => {
      toggleMenu();
    })
    menuButton?.addEventListener("click", () => {
      toggleMenu();
    });
    overlay?.addEventListener("click", () => {
      toggleMenu();
    });
  </script>
  